# æ­£åˆ™è¡¨è¾¾å¼

æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„åˆçš„æ¨¡å¼ï¼Œåœ¨ JavaScriptä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡ã€‚

ä¸æ™®é€šå‡½æ•°æ“ä½œå­—ç¬¦ä¸²æ¥æ¯”è¾ƒï¼Œæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥å†™å‡ºæ›´ç®€æ´ã€åŠŸèƒ½å¼ºå¤§çš„ä»£ç ã€‚

## åˆ›å»ºæ­£åˆ™

JSæä¾›å­—é¢é‡ä¸å¯¹è±¡ä¸¤ç§æ–¹å¼åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼


### å­—é¢é‡åˆ›å»º
ä½¿ç”¨ ``//`` åŒ…è£¹çš„å­—é¢é‡åˆ›å»ºæ–¹å¼æ˜¯æ¨èçš„ä½œæ³•ï¼Œä½†å®ƒä¸èƒ½åœ¨å…¶ä¸­ä½¿ç”¨å˜é‡

```js
let web = "jc-sir.github.io";
console.log(/u/.test(web));//true
```
ä¸‹é¢å°è¯•ä½¿ç”¨ a å˜é‡æ—¶å°†ä¸å¯ä»¥æŸ¥è¯¢
```js
let web = "jc-sir.github.io";
let a = 'u';
console.log(/a/.test(web));//true
```
è™½ç„¶å¯ä»¥ä½¿ç”¨ ``eval`` è½¬æ¢ä¸ºjsè¯­æ³•æ¥å®ç°å°†å˜é‡è§£æåˆ°æ­£åˆ™ä¸­ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥æœ‰å˜é‡æ—¶å»ºè®®ä½¿ç”¨ä¸‹é¢çš„å¯¹è±¡åˆ›å»ºæ–¹å¼


```js
let web = "jc-sir.github.io";
let a = 'u';
console.log(eval(`/${a}/`).test(web));//true
```
### å¯¹è±¡åˆ›å»º
å½“æ­£åˆ™éœ€è¦åŠ¨æ€åˆ›å»ºæ—¶ä½¿ç”¨å¯¹è±¡æ–¹å¼

```js
let web = "jc-sir.github.io";
let subStr = "sir";
let reg = new RegExp(subStr);
console.log(reg.test(web)); //true
```

## é€‰æ‹©ç¬¦

``|`` è¿™ä¸ªç¬¦å·å¸¦è¡¨é€‰æ‹©ä¿®é‡Šç¬¦ï¼Œä¹Ÿå°±æ˜¯ ``|`` å·¦å³ä¸¤ä¾§æœ‰ä¸€ä¸ªåŒ¹é…åˆ°å°±å¯ä»¥ã€‚

åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦å«æœ‰testæˆ–è€…jcsir
```js
var str = "test the regExp!";
console.log(/test|jcsir/.test(str))  // true
```
## å­—ç¬¦è½¬ä¹‰

è½¬ä¹‰ç”¨äºæ”¹å˜å­—ç¬¦çš„å«ä¹‰ï¼Œç”¨æ¥å¯¹æŸä¸ªå­—ç¬¦æœ‰å¤šç§è¯­ä¹‰æ—¶çš„å¤„ç†ã€‚

å¦‚æœæˆ‘ä»¬æƒ³é€šè¿‡æ­£åˆ™æŸ¥æ‰¾``/``ç¬¦å·ï¼Œä½†æ˜¯``/``åœ¨æ­£åˆ™ä¸­æœ‰ç‰¹æ®Šçš„æ„ä¹‰ã€‚å¦‚æœå†™æˆ``///``è¿™ä¼šé€ æˆè§£æé”™è¯¯ï¼Œæ‰€ä»¥è¦ä½¿ç”¨è½¬ä¹‰è¯­æ³• ``/\//``æ¥åŒ¹é…ã€‚

```js
const url = "http://jc-sir.githuo.io";
// æ˜¯å¦æœ‰'http://'
console.log(/http:\/\//.test(url)); //true
```

ä½¿ç”¨ RegExp æ„å»ºæ­£åˆ™æ—¶åœ¨è½¬ä¹‰ä¸Šä¼šæœ‰äº›åŒºåˆ«ï¼Œä¸‹é¢æ˜¯å¯¹è±¡ä¸å­—é¢é‡å®šä¹‰æ­£åˆ™æ—¶åŒºåˆ«
```js
let price = 12.23;
//å«ä¹‰1: .   é™¤æ¢è¡Œå¤–ä»»ä½•å­—ç¬¦ 	å«ä¹‰2: .æ™®é€šç‚¹
//å«ä¹‰1: d   å­—æ¯d   			å«ä¹‰2: \d æ•°å­— 0~9
console.log(/\d+\.\d+/.test(price));

//å­—ç¬¦ä¸²ä¸­ \d ä¸ d æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥åœ¨ new RegExp æ—¶\d å³ä¸º d
console.log("\d" == "d");

//ä½¿ç”¨å¯¹è±¡å®šä¹‰æ­£åˆ™æ—¶ï¼Œå¯ä»¥å…ˆæŠŠå­—ç¬¦ä¸²æ‰“å°ä¸€æ ·ï¼Œç»“æœæ˜¯å­—é¢é‡ä¸€æ ·çš„å®šä¹‰å°±å¯¹äº†
console.log("\\d+\\.\\d+");
let reg = new RegExp("\\d+\\.\\d+");
console.log(reg.test(price));
```

## å­—ç¬¦è¾¹ç•Œ
ä½¿ç”¨å­—ç¬¦è¾¹ç•Œç¬¦ç”¨äºæ§åˆ¶åŒ¹é…å†…å®¹çš„å¼€å§‹ä¸ç»“æŸçº¦å®šã€‚


è¾¹ç•Œç¬¦å· | è¯´æ˜
---|---
^ |	åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹
$ | åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸï¼Œå¿½ç•¥æ¢è¡Œç¬¦


ç¤ºä¾‹

åŒ¹é…å†…å®¹å¿…é¡»ä»¥wwwå¼€å§‹

```js
var url = "www.jc-sir.github.io"
console.log(/^www/.test(url))  //true
```

åŒ¹é…å†…å®¹å¿…é¡»ä»¥ .io ç»“æŸ
```js
console.log(/.io$/.test(url))  //true
```

æ£€æµ‹ç”¨æˆ·åé•¿åº¦ä¸º3~6ä½ï¼Œä¸”åªèƒ½ä¸ºå­—æ¯ã€‚å¦‚æœä¸ä½¿ç”¨ ^ä¸$ é™åˆ¶å°†å¾—ä¸åˆ°æ­£ç¡®ç»“æœ
```js
let reg = /^[a-z]{3,6}$/i
console.log(reg.test("sjkfds"));  // true
console.log(reg.test("sjkfd1ds"));  // false
```

## å…ƒå­å­—ç¬¦
å…ƒå­—ç¬¦æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„æœ€å°å…ƒç´ ï¼Œåªä»£è¡¨å•ä¸€ï¼ˆ1ä¸ªï¼‰å­—ç¬¦


å…ƒå­—ç¬¦|è¯´æ˜|ç¤ºä¾‹
---|---|---
\d | åŒ¹é…ä»»æ„ä¸€ä¸ªæ•°å­—	| [0-9]
\D | ä¸é™¤äº†æ•°å­—ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦åŒ¹é… | [^0-9]
\w | ä¸ä»»æ„ä¸€ä¸ªè‹±æ–‡å­—æ¯,æ•°å­—æˆ–ä¸‹åˆ’çº¿åŒ¹é… | [a-zA-Z_]
\W | é™¤äº†å­—æ¯,æ•°å­—æˆ–ä¸‹åˆ’çº¿å¤–ä¸ä»»ä½•å­—ç¬¦åŒ¹é… | [^a-zA-Z_]
\s | ä»»æ„ä¸€ä¸ªç©ºç™½å­—ç¬¦åŒ¹é…ï¼Œå¦‚ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦\tï¼Œæ¢è¡Œç¬¦\n | [\n\f\r\t\v]
\S | é™¤äº†ç©ºç™½ç¬¦å¤–ä»»æ„ä¸€ä¸ªå­—ç¬¦åŒ¹é… | [^\n\f\r\t\v]
. | åŒ¹é…é™¤æ¢è¡Œç¬¦å¤–çš„ä»»æ„å­—ç¬¦

### ä½¿ç”¨ç¤ºä¾‹
åŒ¹é…ä»»æ„æ•°å­—

```js
let test = "This is 2020";
console.log(test.match(/\d/g)); //["2", "0", "2", "0"]

 // + ä»£è¡¨åŒ¹é…ä¸€ä¸ªæˆ–è€…å¤šä¸ª
console.log(test.match(/\d+/g)); //["2020"]

let test = "This is 20 20";
console.log(test.match(/\d{1,2}/g)); //["20", "20"]
```

åŒ¹é…ä»»æ„éæ•°å­—
```js
console.log(/\D/.test(2029)); //false

console.log('this is 2020'.match(/\D+/g)); // ["this is "]
```

åŒ¹é…æ‰€æœ‰ç”µè¯å·ç 

```js
let tel = `å¼ ä¸‰:010-99999999,æå››:020-88888888`;
let res = tel.match(/\d{3}-\d{7,8}/g);
console.log(res);  //["010-99999999", "020-88888888"]
```
åŒ¹é…å­—æ¯æ•°å­—ä¸‹åˆ’çº¿

```js
let regstr = "this is jc-sir.github.io_";
console.log(regstr.match(/\w+/g)); 
// ["this", "is", "jc", "sir", "github", "io_"]
```

åŒ¹é…é™¤äº†å­—æ¯,æ•°å­—æˆ–ä¸‹åˆ’çº¿å¤–ä¸ä»»ä½•å­—ç¬¦åŒ¹é…
```js
let regstr = "this is jc-sir.github.io_";
console.log(regstr.match(/\W+/g));
// Â [" ", " ", "-", ".", "."]
```

åŒ¹é…ä¸ä»»æ„ä¸€ä¸ªç©ºç™½å­—ç¬¦åŒ¹é…
```js
console.log(/\s/.test(" ")); //true
console.log(/\s/.test("\n")); //true
console.log(/\s/.test("\f")); //true
console.log(/\s/.test("\r")); //true
console.log(/\s/.test("\t")); //true
console.log(/\s/.test("\v")); //true
```

åŒ¹é…é™¤äº†ç©ºç™½ç¬¦å¤–ä»»æ„ä¸€ä¸ªå­—ç¬¦åŒ¹é…

```js
let web = "this js-sir.github.io  ";
console.log(web.match(/\S+/g));
// ["this", "js-sir.github.io"]
```


**å¦‚æœè¦åŒ¹é…ç‚¹åˆ™éœ€è¦è½¬ä¹‰**

å› ä¸º``.`` åŒ¹é…``é™¤æ¢è¡Œç¬¦å¤–``çš„ä»»æ„å­—ç¬¦

```js
let baidu = "www.baidu@com"
console.log(/baidu.com/i.test(baidu)); //true
console.log(/baidu\.com/i.test(baidu)); //false
```

```js
// å› ä¸ºæ¢è¡Œç¬¦  åé¢çš„å°†è¢«å¿½ç•¥
let url = `
  https://www.baidu.com
  jc-sir.githu.io
`;
console.log(url.match(/.+/)[0]);  //https://www.baidu.com
```

ä½¿ç”¨ ``/s``è§†ä¸ºå•è¡Œæ¨¡å¼ï¼ˆå¿½ç•¥æ¢è¡Œï¼‰æ—¶ï¼Œ``.`` å¯ä»¥åŒ¹é…æ‰€æœ‰

æ­£åˆ™ä¸­ç©ºæ ¼ä¼šæŒ‰æ™®é€šå­—ç¬¦å¯¹å¾…
```js
let url = `
  https://www.baidu.com
  jc-sir.githu.io
`;
let reg = url.match(/./s);
console.log(reg[0])
// https://www.baidu.com
// jc-sir.githu.io
```

### æ‰€æœ‰å­—ç¬¦
å¯ä»¥ä½¿ç”¨ [\s\S] æˆ– [\d\D] æ¥åŒ¹é…æ‰€æœ‰å­—ç¬¦


## æ¨¡å¼ä¿®é¥°
æ­£åˆ™è¡¨è¾¾å¼åœ¨æ‰§è¡Œæ—¶ä¼šæŒ‰ä»–ä»¬çš„é»˜è®¤æ‰§è¡Œæ–¹å¼è¿›è¡Œï¼Œä½†æœ‰æ—¶å€™é»˜è®¤çš„å¤„ç†æ–¹å¼æ€»ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨æ¨¡å¼ä¿®æ­£ç¬¦æ›´æ”¹é»˜è®¤æ–¹å¼ã€‚

ä¿®é¥°ç¬¦ | è¯´æ˜
---|---
i | ä¸åŒºåˆ†å¤§å°å†™å­—æ¯çš„åŒ¹é…
g | å…¨å±€æœç´¢æ‰€æœ‰åŒ¹é…å†…å®¹
m | è§†ä¸ºå¤šè¡Œ
s | è§†ä¸ºå•è¡Œå¿½ç•¥æ¢è¡Œç¬¦ï¼Œä½¿ç”¨. å¯ä»¥åŒ¹é…æ‰€æœ‰å­—ç¬¦
y | ä» regexp.lastIndex å¼€å§‹åŒ¹é…
u | æ­£ç¡®å¤„ç†å››ä¸ªå­—ç¬¦çš„ UTF-16 ç¼–ç 

### i 

ä¸åŒºåˆ†å¤§å°å†™
```js
let Str = "This Is My blog";
let reg = /i/gi;
console.log(Str.match(reg));  // [i,I]

let reg = /i/g;
console.log(Str.match(reg));  // [i]

// æ›¿æ¢æˆå°å†™
console.log(Str.replace(reg,"i"));
// This is my blog
```


### g
ä½¿ç”¨ ``g`` ä¿®é¥°ç¬¦å¯ä»¥å…¨å±€æ“ä½œå†…å®¹

ä¸ä½¿ç”¨åˆ™åŒ¹é…åˆ°ç¬¬ä¸€ä¸ªå°†åœæ­¢ç»§ç»­åŒ¹é…

### m
ç”¨äºå°†å†…å®¹è§†ä¸ºå¤šè¡ŒåŒ¹é…ï¼Œä¸»è¦æ˜¯å¯¹ ^å’Œ $ çš„ä¿®é¥°

ç¤ºä¾‹

å°†ä¸‹é¢æ˜¯å°†ä»¥ #æ•°å­—å¼€å§‹çš„ç¼–ç¨‹è¯­è¨€è§£æä¸ºå¯¹è±¡ç»“æ„
```js
let proStr = `
  #1 js,å‰ç«¯ #
  #2 php,åç«¯ #
  #9 java,åç«¯ # æœ€ç‰›é€¼çš„ç¼–ç¨‹è¯­è¨€
  #3 css, å‰ç«¯#
`;
 let regExp = /^\s+#\d\s+.+\s+#$/gm;

let language = proStr.match(regExp).map(v=>{
    v = v.replace(/\s*#\d+\s*/,"").replace(/\s+#/,"");
    [name,type] = v.split(",");
    return {name,type};
})
console.log(JSON.stringify(language,null,2));

// æ‰§è¡Œç»“æœ
[
  {
    "name": "js",
    "type": "å‰ç«¯"
  },
  {
    "name": "php",
    "type": "åç«¯"
  }
]

```
### u
æ¯ä¸ªå­—ç¬¦éƒ½æœ‰å±æ€§ï¼Œå¦‚ ``L`` å±æ€§è¡¨ç¤ºæ˜¯å­—æ¯ï¼Œ``P    `` è¡¨ç¤ºæ ‡ç‚¹ç¬¦å·ï¼Œéœ€è¦ç»“åˆ ``u`` æ¨¡å¼æ‰æœ‰æ•ˆ

```js
//ä½¿ç”¨\p{L}å±æ€§åŒ¹é…å­—æ¯
let blog = "Jc-sir.github.io.ä¸ªäººåšå®¢ï¼";
console.log(blog.match(/\p{L}+/gu));
// ["Jc", "sir", "github", "io", "ä¸ªäººåšå®¢"]

//ä½¿ç”¨\p{P}å±æ€§åŒ¹é…æ ‡ç‚¹
console.log(blog.match(/\p{P}+/gu));
// ["-", ".", ".", ".", "ï¼"]
```
å­—ç¬¦ä¹Ÿæœ‰unicodeæ–‡å­—ç³»ç»Ÿå±æ€§ ``Script=æ–‡å­—ç³»ç»Ÿ``ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨ ``\p{sc=Han}`` è·å–ä¸­æ–‡å­—ç¬¦ hanä¸ºä¸­æ–‡ç³»ç»Ÿ.

```js
let blog = "åšå®¢,Jc-sir.github.io.ä¸ªäººåšå®¢ï¼";

let res = blog.match(/\p{sc=Han}+/gu);
console.log(res)
// ["åšå®¢","ä¸ªäººåšå®¢"]
```

ä½¿ç”¨ ``u`` æ¨¡å¼å¯ä»¥æ­£ç¡®å¤„ç†å››ä¸ªå­—ç¬¦çš„ ``UTF-16``å­—èŠ‚ç¼–ç 
```js
let str = "ğ’³ğ’´";
console.table(str.match(/[ğ’³ğ’´]/)); //ç»“æœä¸ºä¹±å­—ç¬¦"ï¿½"

console.table(str.match(/[ğ’³ğ’´]/u)); //ç»“æœæ­£ç¡® "ğ’³"
```
### lastIndex
RegExpå¯¹è±¡``lastIndex`` ``å±æ€§å¯ä»¥è¿”å›``æˆ–è€…è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼å¼€å§‹åŒ¹é…çš„ä½ç½®

- å¿…é¡»ç»“åˆ g ä¿®é¥°ç¬¦ä½¿ç”¨
- å¯¹ exec æ–¹æ³•æœ‰æ•ˆ
- åŒ¹é…å®Œæˆæ—¶ï¼ŒlastIndex ä¼šè¢«é‡ç½®ä¸º0

```js
let blog = "æˆ‘çš„åšå®¢åœ°å€:jc-sir.github.io";
let reg = /\p{sc=Han}/gu;
while ((res = reg.exec(blog))) {
  console.log(res[0]);
}
// æ§åˆ¶å°çœ‹ç»“æœ
```

### y

ä½¿ç”¨``y``æ¨¡å¼åå¦‚æœä» ``lastIndex`` å¼€å§‹åŒ¹é…ä¸æˆåŠŸå°±ä¸ç»§ç»­åŒ¹é…äº†

```js
let blog = "jc-sir.github.io sir";
let reg = /sir/y;
reg.lastIndex = 3;
console.log(reg.exec(blog));
console.log(reg.lastIndex); // 6
console.log(reg.exec(blog)); // null
console.log(reg.lastIndex); // 0
```

## åŸå­è¡¨
åœ¨ä¸€ç»„å­—ç¬¦ä¸­åŒ¹é…æŸä¸ªå…ƒå­—ç¬¦ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­é€šè¿‡å…ƒå­—ç¬¦è¡¨æ¥å®Œæˆï¼Œå°±æ˜¯æ”¾åˆ°``[]``(æ–¹æ‹¬å·)ä¸­

### ä½¿ç”¨è¯­æ³•
åŸå­è¡¨|è¯´æ˜
---|---
[] | åªåŒ¹é…å…¶ä¸­çš„ä¸€ä¸ªåŸå­
[^] | åªåŒ¹é…"é™¤äº†"å…¶ä¸­å­—ç¬¦çš„ä»»æ„ä¸€ä¸ªåŸå­
[0-9] | åŒ¹é…0-9ä»»ä½•ä¸€ä¸ªæ•°å­—
[a-z] | åŒ¹é…å°å†™a-zä»»ä½•ä¸€ä¸ªå­—æ¯
[A-Z] | åŒ¹é…å¤§å†™A-Zä»»ä½•ä¸€ä¸ªå­—æ¯

### ä½¿ç”¨ç¤ºä¾‹
ä½¿ç”¨ ``[]`` åŒ¹é…å…¶ä¸­ä»»æ„å­—ç¬¦å³æˆåŠŸ

```js
let blog = "this is my blog!";
console.log(/mg/.test(blog));  // false
console.log(/[mg]/.test(blog)) // true
```

åŒ¹é…æ—¥æœŸæ ¼å¼ ``-``æˆ–è€…``/``
```js
let date = "2022-02-23";
console.log(date.match(/\d{4}([-\/])\d{2}\1\d{2}/));
```

åŒºé—´å†…æ•°å­—åŒ¹é…
```js
const num = "2";
console.log(/[0-3]/.test(num)); //true
```

åŒ¹é…a~fé—´çš„ä»»æ„å­—ç¬¦
```js
const char = "e";
console.log(/[a-f]/.test(char)); //true
```

é¡ºåºä¸ºå‡åºå¦åˆ™å°†æŠ¥é”™
```js
const num = "2";
console.log(/[3-0]/.test(num)); //SyntaxError
```

å­—æ¯ä¹Ÿè¦å‡åºå¦åˆ™ä¹ŸæŠ¥é”™
```js
const blog = "jc-sir.github.io";
console.log(/[f-a]/.test(blog)); //SyntaxError
```

è·å–æ‰€æœ‰ç”¨æˆ·å
```js
let str = `
å¼ ä¸‰:010-99999999,æå››:020-88888888`;
let reg = /[^:\d-,\n]+/g;

console.log(str.match(reg)); // ["å¼ ä¸‰", "æå››"]
```

åŸå­è¡¨ä¸­æœ‰äº›æ­£åˆ™å­—ç¬¦ä¸éœ€è¦è½¬ä¹‰ï¼Œå¦‚æœè½¬ä¹‰ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ï¼Œå¯ä»¥ç†è§£ä¸ºåœ¨åŸå­è¡¨ä¸­. å°±æ˜¯å°æ•°ç‚¹

```js
let str = "(jc-sir.github.io)+";
console.table(str.match(/[().+]/g));

//ä½¿ç”¨è½¬ä¹‰ä¹Ÿæ²¡æœ‰é—®é¢˜
console.table(str.match(/[\(\)\.\+]/g));
```
## åŸå­ç»„
- åŸå­ç»„ä¸åŸå­è¡¨çš„å·®åˆ«åœ¨äºåŸå­ç»„ä¸€æ¬¡åŒ¹é…å¤šä¸ªå…ƒå­ï¼Œè€ŒåŸå­è¡¨åˆ™æ˜¯åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚
- å…ƒå­—ç¬¦ç»„ç”¨ () åŒ…è£¹


